import{o as u,R as b,q as e,w as y,h as i,S as g,t as m,A as j}from"./index-vZVVSOSS.js";import{R as N}from"./index-CejZ-VRH.js";import{S as k}from"./shield-check-BZZlOQgQ.js";import{E as v}from"./external-link-CW6IqLfP.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],S=u("info",w);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],A=u("shield-alert",E),C=()=>{const[t,d]=i.useState(null),[h,p]=i.useState(!0);i.useEffect(()=>{chrome.tabs.query({active:!0,currentWindow:!0},a=>{const r=a[0];r!=null&&r.url&&chrome.storage.local.get(["threatHistory"],o=>{const l=(o.threatHistory||[]).find(n=>n.url===r.url);d(l||null),p(!1)})}),chrome.storage.onChanged.addListener(()=>{chrome.tabs.query({active:!0,currentWindow:!0},a=>{const r=a[0];r!=null&&r.url&&chrome.storage.local.get(["threatHistory"],o=>{const l=(o.threatHistory||[]).find(n=>n.url===r.url);d(l||null)})})})},[]);const s=(t==null?void 0:t.score)||0,c=N.getStatus(s),x=()=>c==="SAFE"?"text-cyber-green":c==="WARNING"?"text-yellow-500":"text-cyber-red";return e.jsxs("div",{className:"p-5 flex flex-col min-h-[500px] bg-cyber-black overflow-hidden border-b-4 border-cyber-blue/30",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-6 h-6 text-cyber-blue"}),e.jsxs("span",{className:"font-bold tracking-tighter text-lg",children:["SECURE",e.jsx("span",{className:"text-cyber-blue",children:"WEB"})," AI"]})]}),e.jsx("div",{className:"text-[10px] px-2 py-0.5 border border-white/20 rounded-full text-gray-500 uppercase tracking-widest font-mono",children:"V1.0.0"})]}),h?e.jsx("div",{className:"flex-grow flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-cyber-blue border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"flex-grow flex flex-col",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-10",children:[e.jsxs("svg",{className:"w-40 h-40 transform -rotate-90",children:[e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-white/5"}),e.jsx(m.circle,{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:440,initial:{strokeDashoffset:440},animate:{strokeDashoffset:440-440*s/100},transition:{duration:1.5,ease:"easeOut"},className:x(),strokeLinecap:"round"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx(m.span,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"text-5xl font-mono font-bold",children:s}),e.jsx("span",{className:`text-[10px] font-bold uppercase tracking-[0.2em] ${x()}`,children:c})]})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"glass-panel p-4 flex items-center justify-between border-l-4 border-cyber-purple",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"w-4 h-4 text-cyber-purple"}),e.jsx("span",{className:"text-sm font-medium",children:"Trackers Blocked"})]}),e.jsx("span",{className:"font-mono text-cyber-purple font-bold",children:(t==null?void 0:t.trackersCount)||0})]}),e.jsxs("div",{className:"glass-panel p-4 flex items-center justify-between border-l-4 border-cyber-green",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"w-4 h-4 text-cyber-green"}),e.jsx("span",{className:"text-sm font-medium",children:"Domain Verified"})]}),t!=null&&t.score&&t.score<50?e.jsx(k,{className:"w-4 h-4 text-cyber-green"}):e.jsx(A,{className:"w-4 h-4 text-cyber-red"})]})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1",children:"Active Intelligence"}),e.jsx("p",{className:"text-xs font-mono text-gray-300 truncate opacity-80",children:(t==null?void 0:t.url)||"No Active Site"})]}),e.jsxs("button",{onClick:()=>chrome.runtime.openOptionsPage(),className:"w-full flex items-center justify-center gap-2 py-4 bg-gradient-to-r from-cyber-blue/20 to-cyber-purple/20 border border-white/10 rounded-xl hover:bg-white/10 transition-all group",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest group-hover:text-cyber-blue transition-colors",children:"Decrypt Full Analytics"}),e.jsx(v,{className:"w-4 h-4 group-hover:text-cyber-blue"})]})]})]})};b.createRoot(document.getElementById("popup-root")).render(e.jsx(y.StrictMode,{children:e.jsx(C,{})}));
